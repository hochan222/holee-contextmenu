{"version":3,"sources":["../../packages/esm/contextmenu.js","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Menu","_a","outerRef","menuOnClick","children","_b","useState","xPos","setXPos","yPos","setYPos","_c","menu","showMenu","handleContextMenu","useCallback","event","pageX","pageY","current","getBoundingClientRect","top","bottom","left","right","preventDefault","handleClick","useEffect","document","addEventListener","removeEventListener","useContextMenu","React","createElement","className","style","onClick","e","stopPropagation","menuOnClickHandler","onKeyDown","menuOnKeyDownHandler","role","App","useRef","option","setOption","eventTarget","target","dataset","console","log","data-option","ref","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.870fce77.chunk.js","sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport './contextmenu.css';\nvar useContextMenu = function (outerRef) {\n    var _a = useState('0px'), xPos = _a[0], setXPos = _a[1];\n    var _b = useState('0px'), yPos = _b[0], setYPos = _b[1];\n    var _c = useState(false), menu = _c[0], showMenu = _c[1];\n    var handleContextMenu = useCallback(function (event) {\n        setXPos(event.pageX + \"px\");\n        setYPos(event.pageY + \"px\");\n        if (outerRef.current.getBoundingClientRect().top <= event.pageY &&\n            outerRef.current.getBoundingClientRect().bottom >= event.pageY &&\n            outerRef.current.getBoundingClientRect().left <= event.pageX &&\n            outerRef.current.getBoundingClientRect().right >= event.pageX) {\n            event.preventDefault();\n            showMenu(true);\n        }\n        else {\n            showMenu(false);\n        }\n    }, [showMenu, outerRef, setXPos, setYPos]);\n    var handleClick = useCallback(function () {\n        showMenu(false);\n    }, [showMenu]);\n    useEffect(function () {\n        document.addEventListener('click', handleClick);\n        document.addEventListener('contextmenu', handleContextMenu);\n        return function () {\n            document.addEventListener('click', handleClick);\n            document.removeEventListener('contextmenu', handleContextMenu);\n        };\n    });\n    return { xPos: xPos, yPos: yPos, menu: menu, showMenu: showMenu };\n};\nexport var Menu = function (_a) {\n    var outerRef = _a.outerRef, menuOnClick = _a.menuOnClick, children = _a.children;\n    var _b = useContextMenu(outerRef), xPos = _b.xPos, yPos = _b.yPos, menu = _b.menu, showMenu = _b.showMenu;\n    var menuOnClickHandler = function (e) {\n        e.stopPropagation();\n        menuOnClick(e);\n        showMenu(false);\n    };\n    var menuOnKeyDownHandler = function (e) {\n        e.stopPropagation();\n        menuOnClick(e);\n        showMenu(false);\n    };\n    if (menu) {\n        return (React.createElement(\"ul\", { className: \"menu\", style: { top: yPos, left: xPos }, onClick: function (e) { return menuOnClickHandler(e); }, onKeyDown: function (e) { return menuOnKeyDownHandler(e); }, role: \"menu\" }, children));\n    }\n    return null;\n};\n","import React, { useRef, useState } from 'react';\nimport { Menu } from 'typescript-react-test';\nimport './App.css';\n\nfunction App() {\n  const outerRef = useRef<HTMLDivElement>(null);\n  const [option, setOption] = useState<string | undefined>('null');\n\n  const menuOnClickHandler = (e: React.MouseEvent | React.KeyboardEvent<HTMLUListElement>) => {\n    const eventTarget = e.target as HTMLUListElement;\n    if (eventTarget) {\n      setOption(() => eventTarget.dataset.option);\n      console.log(eventTarget.dataset.option);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h2>holee-context-menu</h2>\n      <p>⬇️ Click right mouse inside the red box ⬇️</p>\n\n      <Menu outerRef={outerRef} menuOnClick={(e) => menuOnClickHandler(e)}>\n        <li data-option=\"profile\">profile</li>\n        <li data-option=\"send-message\">send message</li>\n        <li data-option=\"add-friend\">add friend</li>\n        <li data-option=\"play-game\">play game</li>\n        <li data-option=\"register-admin\">register admin(dismissal)</li>\n        <li data-option=\"block\">block(unblock)</li>\n        <li data-option=\"mute\">mute(unmute)</li>\n        <li data-option=\"forced-out\">forced out</li>\n      </Menu>\n      <div ref={outerRef} className=\"red-box\"></div>\n\n      <p>\n        <strong>eventTarget.dataset.option: </strong> {option}\n      </p>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}